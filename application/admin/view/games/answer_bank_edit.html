{include file="template/_meta" /}
<title></title>
</head>

{block name="css"}
<link rel="stylesheet" type="text/css" href="__STATIC__/admin/common/css/aaa.css" />
<style type="text/css">
    body {
        background: #fff;
    }

    .ziji {
        width: auto;
    }

    .ziji>input {
        width: 300px;
    }

    .layui-btn {
        border-radius: 6px;
        height: 50px;
    }

    .layui-form-lists .layui-btn {
        width: 170px;
    }

    .layui-btn-normal {
        margin-right: 150px;
    }

    .layui-form-item {
        margin-left: 200px;
        margin-top: 80px;
    }

    .seach_laber1 {
        font-size: 13px;
        width: 100px;
        text-align: center;
        color: #333;
    }

    .layui-textarea {
        width: 100%;
    }

    .tips {
        margin-top: 5px;
    }

    .m_t {
        margin-top: 10px;
    }

    .title {
        border-radius: 15px;
        border: 1px solid rgb(188, 188, 188);
        text-align: center;
        width: 70px;
        height: 20px;
        margin: 10px 25px 0 10px;
    }

    .layui-textarea {
        width: 100%;
    }

    .p_t {
        padding-top: 8px;
    }

    .add_btn {
        width: 500px;
        border: 1px solid rgb(14, 144, 210);
        text-align: center;
        color: rgb(14, 144, 210);
        margin: 20px 0 20px 350px;
    }

    .add_btn:hover {
        cursor: pointer;
    }

    .img_x {
        width: 20px;
        height: 20px;
    }

    .del_div {
        display: inline;
    }

    .del_div:hover {
        cursor: pointer;
    }
</style>

{/block}

<body>
    {block name="content"}
    <form class="layui-form layui-form-lists" action="{:url('admin/Games/answer_bank_edit_do')}" method="post" enctype="multipart/form-data">
        <blockquote class="layui-elem-quote news_search">
            <div class="seach_laber1">
                编辑答题
            </div>
        </blockquote>
        {volist name="data" id="vo"}
        <div class="form-item ">
            <label class="form-label " style="width:20%">*问题分类</label>
            <div class="form-input ziji m_t">
                   <input type="checkbox" name="sss[twdl]" lay-skin="primary" lay-filter="choose1"  
                  {if $vo['problem_type'] }<?php if(array_key_exists('twdl',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if}  >
            </div>
            <div class="title ">天文地理</div>
            <div class="form-input ziji m_t">
               
                <input type="checkbox" name="sss[rwls]" lay-skin="primary" lay-filter="choose1" 
                {if $vo['problem_type'] }<?php if(array_key_exists('rwls',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if}> 
               
            </div>
            <div class="title ">人物历史</div>
            <div class="form-input ziji m_t">
                <input type="checkbox" name="sss[shbk]" lay-skin="primary" lay-filter="choose1" 
                {if $vo['problem_type'] }<?php if(array_key_exists('shbk',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if}>
            </div>
            <div class="title ">生活百科</div>
            <div class="form-input ziji m_t">
                <input type="checkbox" name="sss[mxbg]" lay-skin="primary" lay-filter="choose1" 
                {if $vo['problem_type'] }<?php if(array_key_exists('mxbg',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if}>
            </div>
            <div class="title ">明星八卦</div>
            <div class="form-input ziji m_t">
                <input type="checkbox" name="sss[wlhx]" lay-skin="primary" lay-filter="choose1" 
                {if $vo['problem_type'] }<?php if(array_key_exists('wlhx',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if}>
            </div>
            <div class="title ">物理化学</div>
        </div>
        <div class="form-item ">
            <label class="form-label " style="width:20%"></label>
            <div class="form-input ziji m_t">
                <input type="checkbox" name="sss[keji]" lay-skin="primary" lay-filter="choose1" 
                {if $vo['problem_type'] }<?php if(array_key_exists('keji',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if}>
            </div>
            <div class="title ">科技</div>
            <div class="form-input ziji m_t">
                <input type="checkbox" name="sss[politics]" lay-skin="primary" lay-filter="choose1" 
                {if $vo['problem_type'] }<?php if(array_key_exists('politics',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if} >
            </div>
            <div class="title ">政治</div>
            <div class="form-input ziji m_t">
                <input type="checkbox" name="sss[history]" lay-skin="primary" lay-filter="choose1" 
                {if $vo['problem_type'] }<?php if(array_key_exists('history',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if} >
            </div>
            <div class="title ">文学</div>
            <div class="form-input ziji m_t">
                <input type="checkbox" name="sss[music]" lay-skin="primary" lay-filter="choose1" 
                {if $vo['problem_type'] }<?php if(array_key_exists('music',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if}>
            </div>
            <div class="title ">音乐</div>
            <div class="form-input ziji m_t">
                <input type="checkbox" name="sss[sport]" lay-skin="primary" lay-filter="choose1" 
                {if $vo['problem_type'] }<?php if(array_key_exists('sport',$vo['problem_type'])){echo 'checked value="1"';} ?>{/if}>
            </div>
            <div class="title ">体育</div>
        </div>
        <div class="form-item ">
                <label class="form-label " style="width:20%"></label>
                <div class="tips">*可修改分类名称，也可先添加分类，分类标签为必选项</div>
            </div>
        <div class="form-item ">
            <label class="form-label" style="width:20%">设置问题</label>
            <div class="form-input">
                <textarea placeholder="   请输入问题，例如：1+1=？" class="layui-textarea" name="problem">{$vo['problem']}</textarea>
            </div>
        </div>
        <div class="answer">
            {volist name="vo['answer']" id="vvs" key="key2"}
            <div class="form-item ">
                {if $key2=='1'}
                <label class="form-label" style="width:20%">设置答案</label>
                {else}
                <label class="form-label" style="width:20%"></label>
                {/if}
                <div class="p_t">
                    {if $key2-1=='0'}
                    A：
                    {/if}
                    {if $key2-1=='1'}
                    B：
                    {/if}
                    {if $key2-1=='2'}
                    C：
                    {/if}
                    {if $key2-1=='3'}
                    D：
                    {/if}
                </div>
                <div class="form-input">
                    <input type="text" name="ans[{$key2-1}]" value="{$vvs}" lay-verify="title" autocomplete="off" placeholder="答案选项" class="layui-input"
                        style="width:500px;">
                        {if $vo['true_ans']==$key2-1}
                    <input type="radio" name="aa" value="{$key2-1}" title="设为正确答案" checked>
                      {else}
                    <input type="radio" name="aa" value="{$key2-1}" title="设为正确答案" >
                    {/if}
                </div>
            </div>
            {/volist}
        </div>
        <div class="add_btn">添加一档</div>
        <div class="form-item ">
            <label class="form-label" style="width:20%">难易程度</label>
            <div class="form-input">
                {if $vo['problem_status']=='1'}
                <input type="radio" name="b" value="1" title="简单" checked>
                {else}
                <input type="radio" name="b" value="1" title="简单">
                {/if}
                {if $vo['problem_status']=='2'}
                <input type="radio" name="b" value="2" title="中等" checked>
                {else}
                <input type="radio" name="b" value="2" title="中等">
                {/if}
                {if $vo['problem_status']=='3'}
                <input type="radio" name="b" value="3" title="较难" checked>
                {else}
                <input type="radio" name="b" value="3" title="较难">
                {/if}
                {if $vo['problem_status']=='4'}
                <input type="radio" name="b" value="4" title="很难" checked>
                {else}
                <input type="radio" name="b" value="4" title="很难">
                {/if}
            </div>
        </div>
        <input type="hidden" name="id" value="{$vo['id']}">
        {/volist}
        <div class="layui-form-item" style="width:100%;">
            <div class="layui-input-block">
                <button class="layui-btn layui-btn-normal" type="submit" id="submit">保存</button>
                <button type="button" class="layui-btn layui-btn-primary"
                    onClick="javascript :history.back(-1);">返回</button>
            </div>

        </div>
    </form>
    {/block}
    <!--_footer 作为公共模版分离出去-->
    {include file="template/_footer" /}
    <!--/_footer 作为公共模版分离出去-->

    <!--请在下方写此页面业务相关的脚本-->
    {block name="bottom"}
    <script type="text/javascript">
        var ue = UE.getEditor('editor');
        layui.config({
            base: "js/"
        }).use(['form', 'layer', 'jquery', 'laypage'], () => {
            var form = layui.form(),
                layer = parent.layer === undefined ? layui.layer : parent.layer,
                laypage = layui.laypage,
                $ = layui.jquery;

            form.on("checkbox(choose1)", function (data) {

                if (data.value == "1") {
                    $(this).val('0');
                    data.value = "0";
                } else {
                    $(this).val('1');
                    data.value = "1";
                }
                form.render('checkbox');
            })

            $('.add_btn').on('click', function () {
                var e = $('.answer').find(".form-item").length;
                var letter;
                //答案对应的字母
                letter = String.fromCharCode((65 + e))
                var dhtml = '';
                dhtml = `<div class="form-item clone">
                            <label class="form-label" style="width:20%"></label>
                            <div class="p_t">${letter}：</div>
                            <div class="form-input">
                                <input type="text" name="ans[${e}]" lay-verify="title" autocomplete="off" placeholder=" "
                                    class="layui-input" style="width:500px;">
                                <input type="radio" name="aa" value="${e}" title="设为正确答案">
                                <div class="del_div" id="del_oneself"><img src="__STATIC__/admin/index/img/u1306.png" class="img_x"></div>
                            </div>
                         </div>`;
                $('.answer').append(dhtml);
                $(document).on('click', '#del_oneself', function () {
                    $(this).parents('.clone').remove();
                });
                form.render();
            })
        })



    </script>

    {/block}

</body>

</html>